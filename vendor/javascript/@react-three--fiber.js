// @react-three/fiber@8.17.14 downloaded from https://ga.jspm.io/npm:@react-three/fiber@8.17.14/dist/react-three-fiber.esm.js

import{e,u as a,a as c,c as i,b as u,i as d,E as b,B as E,d as R}from"../_/C2m9eNlb.js";export{t as ReactThreeFiber,r as _roots,f as act,g as addAfterEffect,h as addEffect,j as addTail,k as advance,l as applyProps,m as buildGraph,n as context,o as createEvents,p as createPortal,q as dispose,s as flushGlobalEffects,v as flushSync,w as getRootState,x as invalidate,y as reconciler,z as render,A as useFrame,C as useGraph,D as useInstanceHandle,F as useLoader,G as useStore,H as useThree}from"../_/C2m9eNlb.js";import*as S from"react";import*as P from"three";import M from"react-use-measure";import{useContextBridge as T,FiberProvider as _}from"its-fine";import{jsx as I}from"react/jsx-runtime";import"react-reconciler/constants";import"zustand";import"suspend-react";import"react-reconciler";import"scheduler";const B=S.forwardRef((function Canvas({children:r,fallback:s,resize:t,style:n,gl:o,events:l=u,eventSource:f,eventPrefix:p,shadows:h,linear:m,flat:v,legacy:g,orthographic:y,frameloop:w,dpr:z,performance:x,raycaster:C,camera:j,scene:k,onPointerMissed:F,onCreated:G,...H},_){S.useMemo((()=>e(P)),[]);const A=T();const[q,B]=M({scroll:true,debounce:{scroll:50,resize:0},...t});const D=S.useRef(null);const L=S.useRef(null);S.useImperativeHandle(_,(()=>D.current));const W=a(F);const[X,Y]=S.useState(false);const[J,K]=S.useState(false);if(X)throw X;if(J)throw J;const N=S.useRef(null);c((()=>{const e=D.current;if(B.width>0&&B.height>0&&e){N.current||(N.current=i(e));N.current.configure({gl:o,events:l,shadows:h,linear:m,flat:v,legacy:g,orthographic:y,frameloop:w,dpr:z,performance:x,raycaster:C,camera:j,scene:k,size:B,onPointerMissed:(...e)=>W.current==null?void 0:W.current(...e),onCreated:e=>{e.events.connect==null?void 0:e.events.connect(f?d(f)?f.current:f:L.current);p&&e.setEvents({compute:(e,r)=>{const s=e[p+"X"];const t=e[p+"Y"];r.pointer.set(s/r.size.width*2-1,-t/r.size.height*2+1);r.raycaster.setFromCamera(r.pointer,r.camera)}});G==null?void 0:G(e)}});N.current.render(I(A,{children:I(b,{set:K,children:I(S.Suspense,{fallback:I(E,{set:Y}),children:r})})}))}}));S.useEffect((()=>{const e=D.current;if(e)return()=>R(e)}),[]);const O=f?"none":"auto";return I("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:O,...n},...H,children:I("div",{ref:q,style:{width:"100%",height:"100%"},children:I("canvas",{ref:D,style:{display:"block"},children:s})})})}));const L=S.forwardRef((function CanvasWrapper(e,r){return I(_,{children:I(B,{...e,ref:r})})}));export{L as Canvas,u as createPointerEvents,i as createRoot,u as events,e as extend,R as unmountComponentAtNode};

